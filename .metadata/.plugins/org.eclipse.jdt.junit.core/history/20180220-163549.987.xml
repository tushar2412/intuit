<?xml version="1.0" encoding="UTF-8"?><testrun name="MessageControllerTest.testGetAll" project="referrer-logger-service" tests="1" started="1" failures="0" errors="1" ignored="0">
  <testcase name="testGetAll" classname="com.intuit.controller.MessageControllerTest" time="0.099">
    <error>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select referrer0_.domain as col_0_0_, count(referrer0_.id) as col_1_0_ from Referrer referrer0_ group by referrer0_.domain order by count(referrer0_.id) DESC]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement&#13;
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:982)&#13;
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)&#13;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:622)&#13;
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)&#13;
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:65)&#13;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)&#13;
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)&#13;
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)&#13;
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:155)&#13;
	at com.intuit.controller.MessageControllerTest.testGetAll(MessageControllerTest.java:51)&#13;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#13;
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&#13;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&#13;
	at java.lang.reflect.Method.invoke(Unknown Source)&#13;
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)&#13;
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)&#13;
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)&#13;
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)&#13;
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)&#13;
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)&#13;
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)&#13;
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)&#13;
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)&#13;
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)&#13;
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)&#13;
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)&#13;
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)&#13;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)&#13;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)&#13;
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)&#13;
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)&#13;
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)&#13;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)&#13;
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)&#13;
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)&#13;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&#13;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)&#13;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678)&#13;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)&#13;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)&#13;
Caused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select referrer0_.domain as col_0_0_, count(referrer0_.id) as col_1_0_ from Referrer referrer0_ group by referrer0_.domain order by count(referrer0_.id) DESC]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement&#13;
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:261)&#13;
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)&#13;
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:491)&#13;
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)&#13;
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)&#13;
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)&#13;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)&#13;
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133)&#13;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)&#13;
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)&#13;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)&#13;
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)&#13;
	at com.sun.proxy.$Proxy90.findReferrerCount(Unknown Source)&#13;
	at com.intuit.service.ReferrerService.findTop3Referrars(ReferrerService.java:38)&#13;
	at com.intuit.service.ReferrerService$$FastClassBySpringCGLIB$$6413e96d.invoke(&lt;generated&gt;)&#13;
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)&#13;
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)&#13;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)&#13;
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)&#13;
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)&#13;
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)&#13;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)&#13;
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)&#13;
	at com.intuit.service.ReferrerService$$EnhancerBySpringCGLIB$$e5fea20.findTop3Referrars(&lt;generated&gt;)&#13;
	at com.intuit.controller.MessageController.getAll(MessageController.java:27)&#13;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#13;
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&#13;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&#13;
	at java.lang.reflect.Method.invoke(Unknown Source)&#13;
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)&#13;
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)&#13;
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)&#13;
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)&#13;
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)&#13;
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)&#13;
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)&#13;
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)&#13;
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)&#13;
	... 39 more&#13;
Caused by: org.hibernate.exception.SQLGrammarException: could not prepare statement&#13;
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:106)&#13;
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)&#13;
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)&#13;
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:182)&#13;
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)&#13;
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1929)&#13;
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1898)&#13;
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1876)&#13;
	at org.hibernate.loader.Loader.doQuery(Loader.java:919)&#13;
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:336)&#13;
	at org.hibernate.loader.Loader.doList(Loader.java:2617)&#13;
	at org.hibernate.loader.Loader.doList(Loader.java:2600)&#13;
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2429)&#13;
	at org.hibernate.loader.Loader.list(Loader.java:2424)&#13;
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:501)&#13;
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:371)&#13;
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216)&#13;
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1326)&#13;
	at org.hibernate.internal.QueryImpl.list(QueryImpl.java:87)&#13;
	at org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:606)&#13;
	at org.hibernate.jpa.internal.QueryImpl.getResultList(QueryImpl.java:483)&#13;
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:118)&#13;
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:82)&#13;
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:116)&#13;
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:106)&#13;
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:482)&#13;
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:460)&#13;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)&#13;
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61)&#13;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)&#13;
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)&#13;
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)&#13;
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)&#13;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)&#13;
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)&#13;
	... 71 more&#13;
Caused by: org.h2.jdbc.JdbcSQLException: Table "Referrer" not found; SQL statement:
select referrer0_.domain as col_0_0_, count(referrer0_.id) as col_1_0_ from Referrer referrer0_ group by referrer0_.domain order by count(referrer0_.id) DESC [42102-190]&#13;
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345)&#13;
	at org.h2.message.DbException.get(DbException.java:179)&#13;
	at org.h2.message.DbException.get(DbException.java:155)&#13;
	at org.h2.command.Parser.readTableOrView(Parser.java:5293)&#13;
	at org.h2.command.Parser.readTableFilter(Parser.java:1234)&#13;
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:1873)&#13;
	at org.h2.command.Parser.parseSelectSimple(Parser.java:1982)&#13;
	at org.h2.command.Parser.parseSelectSub(Parser.java:1867)&#13;
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1688)&#13;
	at org.h2.command.Parser.parseSelect(Parser.java:1676)&#13;
	at org.h2.command.Parser.parsePrepared(Parser.java:432)&#13;
	at org.h2.command.Parser.parse(Parser.java:304)&#13;
	at org.h2.command.Parser.parse(Parser.java:276)&#13;
	at org.h2.command.Parser.prepareCommand(Parser.java:241)&#13;
	at org.h2.engine.Session.prepareLocal(Session.java:460)&#13;
	at org.h2.engine.Session.prepareCommand(Session.java:402)&#13;
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1188)&#13;
	at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:72)&#13;
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:276)&#13;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#13;
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&#13;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&#13;
	at java.lang.reflect.Method.invoke(Unknown Source)&#13;
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)&#13;
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)&#13;
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)&#13;
	at com.sun.proxy.$Proxy77.prepareStatement(Unknown Source)&#13;
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)&#13;
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)&#13;
	... 102 more&#13;
&#13;
</error>
  </testcase>
</testrun>
